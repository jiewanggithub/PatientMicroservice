# ðŸ§  Patient Microservice

This repository contains **Microservice 3** of our team project: the **Patient Profile
This service is designed **API-first**, using **Swagger (OpenAPI 3.0)** to describe the endpoints before implementing any backend code.

---

## ðŸ“˜ Overview

**Purpose:**  
Stores and manages patient data, appointment history, and links to transcriptions or summaries generated by other microservices.

**Key Responsibilities:**
- Maintain basic **patient profiles**
- Record and retrieve **appointments** per patient
- Store or link to **transcription records** for each appointment (from the Transcription Service)

For **Sprint 1**, this repository delivers only the **OpenAPI specification** (`openapi.yaml`), which defines all API paths and schemas but returns **501 Not Implemented** responses.

---

## ðŸ§© API Specification

The complete API design lives in [`openapi.yaml`](./openapi.yaml).  
You can view it in:
- **SwaggerHub:** [patient-micro-service v0.1.0](https://app.swaggerhub.com/apis/columbiauniversity-6bc/patient-micro-service/0.1.0)
- **Swagger Editor:** [https://editor.swagger.io](https://editor.swagger.io) â†’ *File â†’ Import File â†’ select `openapi.yaml`*
- **Local mock:** see below for Prism instructions.

**Version:** `0.1.0`  
**Status:** Draft / Sprint 1 deliverable  

---

## ðŸ”— Resources and Paths

### ðŸ‘¤ Patients
| Method | Path | Description |
|:------:|:-----|:------------|
| `GET` | `/patients` | List all patients |
| `POST` | `/patients` | Create a new patient |
| `GET` | `/patients/{patientId}` | Retrieve a specific patient |
| `PUT` | `/patients/{patientId}` | Update a patientâ€™s information |
| `DELETE` | `/patients/{patientId}` | Delete a patient record |

---

### ðŸ“… Appointments ï¼ˆPlacerholder model 1ï¼‰
| Method | Path | Description |
|:------:|:-----|:------------|
| `GET` | `/patients/{patientId}/appointments` | List a patientâ€™s appointments |
| `POST` | `/patients/{patientId}/appointments` | Create a new appointment |
| `GET` | `/patients/{patientId}/appointments/{appointmentId}` | Get one appointment |
| `DELETE` | `/patients/{patientId}/appointments/{appointmentId}` | Delete an appointment |

---

### ðŸŽ™ Transcriptions (Placeholder model 2)
| Method | Path | Description |
|:------:|:-----|:------------|
| `GET` | `/patients/{patientId}/transcriptions` | List transcriptions for a patient |
| `POST` | `/patients/{patientId}/transcriptions` | Add or link a transcription |
| `GET` | `/patients/{patientId}/transcriptions/{transcriptionId}` | Retrieve one transcription |

All endpoints currently return:

---

ðŸ§© MySQL Database Commands
- Start MySQL service: sudo service mysql start
- Log in as root user: mysql -u root -p
- Create database for microservice: CREATE DATABASE patient_db;
- Use the database: USE patient_db;
- Show all tables: SHOW TABLES;
- View table data: SELECT * FROM patients;

---
ðŸš€ Run FastAPI / Microservice
Start the FastAPI server
uvicorn main:app --reload --host 0.0.0.0 --port 8000

Send GET request (check service is up)
curl http://127.0.0.1:8000/patients

Example POST request with JSON body
curl -X POST "http://127.0.0.1:8000/patients" \
-H "Content-Type: application/json" \
-d '{"name": "John Doe", "age": 30, "condition": "Flu"}'

cd ~/PatientMicroservice/PatientMicroservices
source .venv/bin/activate

```json
{
  "status": 501,
  "code": "NOT_IMPLEMENTED",
  "message": "Endpoint stub for Sprint 1"
}
